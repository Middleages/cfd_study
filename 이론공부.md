# CFD란?
- Computational Fluid Dynamics(전산유체역학) 의 약자로 컴퓨터로 유체의 움직임과 효과를 모사하는 방법.
- 지배방정식의 근사 해를 계산하는 수학적인 접근이 이루어진다.
- 시간과 비용이 적게드는 장점이 있으나. 완벽한 모사는 현실적으로 불가능하므로 실험적 접근과의 상호보완이 필수.

* 관련 자료
  * https://youtu.be/zTR3hFAUcnY?si=QMR7buMxEyPiQPDL
  
## 지배방정식이란?
- 값을 이미 알고있는 변수들이 변화함에 따라 값을 모르는 변수들이 바뀌는 관계를 수학적으로 설명하는 식
- 즉. 계 안에서 input과 output의 관계를 표현하는 식이다.
- 모사하려는 문제 특성에 따라 적절한 지배 방정식 선택이 필요

## CFD의 지배방정식은?
1. 나비에 스토크 방정식(Navier-Stokes Equations) - 운동량 보존 방정식
   - 점탄성이 없는 유체(뉴턴 유체)에 대한 운동량 식. 고정된 좌표계가 아니어서 F=ma를 적용할 수 없기 때문에 유체 역학용으로 바꾼 것
   - 운동량 보존법칙을 유체에 맞는 방식으로 정리한것이기 때문에 운동량 보존법칙이라고도 한다.
   - 유체역학에서 중요시하는 물리량은 질량, 운동량, 에너지 3개인데, 이 중 가장 복잡하고 중요한 방정식이 운동량 보존 방정식인 나비에 스토크 방정식이다.
   - **일반해를 구하는 방법이 아직 발견되지 않았다 ㅠ**
2. 질량 보존 방정식
   - 유체의 밀도 변화와 관련된 질량 보존 원리를 나타내는 식
3. 에너지 보존 방정식
   - 유체 내에서 에너지가 어떻게 전달되고 변환되는지 나타내는 식.
   - 열역학 제 1법칙에 기초하며 내부 에너지와 운동에너지, 열전달을 포함한다.

## 세 방정식의 연관성에 대하여
 - 질량 보존법칙까지 합쳐서 나비에 스토크 방정식을 유도하기도 한다. 여기에 비압축성 상황일경우 에너지 보존 방정식을 제외하기도 하므로 나비에-스토크 방정식이 전산유체역학의 지배방정식이라고도 볼 수 있다.
 - 우선은 나비에-스토크 방정식을 기반으로 다른 방정식을 함께 적용하여 해석하게 된다고 이해하면 되겠다.


# 지배 방정식은 어떻게 적용될까?
 > 나비에-스토크 방정식을 찾아보면 매우 복잡한 비선형 편미분 방정식의 형태이다. 심지어 아직 해를 구하는 방법이 발견되지 않았다고 한다.(7대 난제) 그럼 어떻게 활용할 수 있을까?
 - ### 차분화(Diszretization)을 활용한다. 
   - 차분화는 연속적인 함수나 데이터를 불연속적인 요소로 변환하는 것을 의미한다.
   - 예를 들어 학생들의 키를 집계할 때, 150~160, 160~170 같은 식으로 묶어서 집계하는 경우가 있다. 이런 binning도 차분화라고 할 수 있겠다.
   - 이렇게 차분화 과정을 거치면 **대수 방정식으로 근사 해를 구할 수 있게 된다.**(즉, 정확하다고는 할 수 없다.)
  

# CFD의 진행 과정에 대하여

## 1. 전처리(Pre-Processing)
> 우선 계산할 유체 영역을 표현하고(Geometry), 이후 **Meshing** 과정을 통해 Cell이라는 단위체로 나눠준다.
  ### Meshing의 중요성
  - 유체영역을 하나의 곡선, 하나의 점을 셀로 가정해보자. 점이 많을 수록 곡선을 잘 표현할 수 있다.(일반적인 회귀식 모델에 데이터가 많을 수록 정확해지는 것과 같다.)
  - 또한 적절한 위치에 있어야 곡선을 잘 표현할 수 있다. (회귀 분석시 샘플링이 중요한것과 같다. Align Mark 위치를 어떻게 선정하느냐에 따라 Align 성능이 달라지는것을 떠올리자.)
  - 다시얘기하면, **Cell이 많고 적절한 위치에 있을수록(Meshing을 잘 할 수록)** 유체의 유동을 정확하게 표현할 수 있게 된다.

## 2. 수치해석(Simulation)
> 유체해석에 적용할 해석 기법과 조건을 설정하고 근사 해를 구하는 과정
### 해석기법?
    - 해석종류, 모델링, 수치해석으로 나눠진다.
   1. 해석종류 -> 기본적인 분석 환경
   - 2D / 3D 혹은 Steady Flow(시간변화 고려) / Transient Flow(시간변화 고려 X)
   2. 모델링
   - Turbulence, VOF 등 해석에 추가되어야 하는 모델링. 즉 나비에-스토크 방정식과 함께 사용할 방정식을 선정한다.
   3. 수치해석
   - 어떤 방식으로 근사 해를 구할것이냐 하는 부분. 허용할 오차 범위, 반복계산 횟수등을 설정할 수 있으며, 선택하는 해석 기법에 따라 사용될 자원이나 정확도가 많이 달라질 수 있다.

### 조건? -> 좀더 공부 필요
    - 경계 조건과 초기 조건이 있다. 둘 모두 정확한 해석을 위해 매우 중요하다.
   1. 경계 조건 -> 모사할 유동의 환경
   - 자유표면 -> Far Field, inlet, outlet, symmetric, periodic 등
   - 고체표면 -> Adiabatic(단열), Isothermal(정온), No slip(점착) 등
   2. 초기 조건
   - 시간에 따른 변화가 있는 분석(비정상 해석)일 경우 특히 중요.

### 계산 결과에 대하여
- 수렴 -> 근사 해 계산에 성공. 후처리로 넘어간다.
- 발산 -> 근사 해 계산에 실패. mesh, 해석기법과 조건 등 계산 조건을 다시 검토하고 재계산 해야한다.

## 3. 후처리(Post-Processing)
- 해석된 결과를 확인하는 과정이다. 숫자로 나온 결과를 어떻게 시각화 할것인가를 결정하는 단계